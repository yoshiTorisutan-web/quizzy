<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quizzy</title>
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ðŸ§ </text></svg>"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .notch {
        width: 120px;
        height: 30px;
        background: #111;
        border-radius: 0 0 20px 20px;
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        z-index: 10;
      }
    </style>
  </head>
  <body
    class="flex justify-center items-center min-h-screen bg-gradient-to-br from-indigo-900 to-purple-900 font-sans"
  >
    <!-- Maquette iPhone -->
    <div
      class="relative w-80 h-[700px] bg-gray-900 rounded-[50px] shadow-2xl flex justify-center items-center p-3"
    >
      <!-- Encoche -->
      <div class="notch"></div>

      <!-- Barre de statut -->
      <div
        class="absolute top-7 w-full flex justify-between px-5 text-black text-xs font-medium z-20"
      >
        <span class="ml-2">09:41</span>
        <div class="flex gap-1 mr-2">
          <span>ðŸ“¶</span>
          <span>ðŸ”‹</span>
        </div>
      </div>

      <!-- Ã‰cran -->
      <div
        class="w-full h-full bg-white rounded-[40px] shadow-inner p-6 flex flex-col overflow-hidden"
      >
        <!-- Header Quiz -->
        <div class="text-center text-2xl font-bold text-gray-900 mb-4 mt-8">
          Quizzy
        </div>

        <!-- Barre de progression -->
        <div class="w-full bg-gray-200 rounded-full h-3 mb-4 overflow-hidden">
          <div id="progress" class="h-3 bg-indigo-500 w-0 transition-all"></div>
        </div>

        <!-- Timer centrÃ© -->
        <div class="flex justify-center items-center text-sm mb-4 gap-2">
          <span class="text-gray-600 font-medium">Temps restant :</span>
          <span id="timer" class="text-gray-800 font-bold">30s</span>
        </div>

        <!-- Quiz Container -->
        <div id="quiz" class="flex-1 flex flex-col justify-between">
          <!-- Question -->
          <div
            class="text-lg text-center text-gray-900 mb-2 p-4 bg-gradient-to-r from-blue-100 via-blue-200 to-blue-100 rounded-2xl shadow-lg"
            id="question"
          >
            Question ici...
          </div>

          <!-- RÃ©ponses -->
          <div id="answers" class="flex flex-col gap-3"></div>

          <!-- Bouton suivant -->
          <button
            id="next-btn"
            class="mt-4 bg-gradient-to-r from-indigo-500 to-purple-500 text-white py-3 rounded-2xl font-semibold hover:scale-105 transition transform hidden"
          >
            Suivant
          </button>

          <!-- Bouton recommencer -->
          <button
            id="restart-btn"
            class="mt-4 bg-green-500 text-white py-3 rounded-2xl font-semibold hover:scale-105 transition transform hidden"
          >
            Recommencer
          </button>
        </div>
      </div>
    </div>

    <script>
      // Pool de questions plus large
      const allQuestions = [
        {
          question: "Quelle est la capitale de la France ?",
          answers: ["Berlin", "Madrid", "Paris", "Rome"],
          correct: 2,
        },
        {
          question: "Combien font 5 Ã— 3 ?",
          answers: ["8", "15", "10", "12"],
          correct: 1,
        },
        {
          question: "Quel langage s'exÃ©cute dans le navigateur ?",
          answers: ["Python", "Java", "JavaScript", "C++"],
          correct: 2,
        },
        {
          question: "Combien de continents y a-t-il ?",
          answers: ["5", "6", "7", "8"],
          correct: 2,
        },
        {
          question: "La Terre est-elle plate ?",
          answers: ["Oui", "Non"],
          correct: 1,
        },
        {
          question: "Combien font 12 Ã· 4 ?",
          answers: ["2", "3", "4", "6"],
          correct: 1,
        },
        {
          question: "Qui a peint la Joconde ?",
          answers: ["Van Gogh", "Da Vinci", "Picasso", "Rembrandt"],
          correct: 1,
        },
        {
          question: "Langage pour style CSS ?",
          answers: ["HTML", "CSS", "JS", "Python"],
          correct: 1,
        },
        {
          question: "Capital de l'Allemagne ?",
          answers: ["Berlin", "Munich", "Hambourg", "Francfort"],
          correct: 0,
        },
        {
          question: "Combien font 7 + 8 ?",
          answers: ["14", "15", "16", "17"],
          correct: 1,
        },
        {
          question: "Qui a Ã©crit 'Les MisÃ©rables' ?",
          answers: ["Hugo", "Zola", "Camus", "Balzac"],
          correct: 0,
        },
        {
          question: "Combien de planÃ¨tes dans le systÃ¨me solaire ?",
          answers: ["7", "8", "9", "10"],
          correct: 1,
        },
        {
          question: "Capitale du Japon ?",
          answers: ["Tokyo", "Kyoto", "Osaka", "Hiroshima"],
          correct: 0,
        },
        {
          question: "La lumiÃ¨re se dÃ©place plus vite que le son ?",
          answers: ["Oui", "Non"],
          correct: 0,
        },
        {
          question: "Quelle est la couleur du soleil ?",
          answers: ["Jaune", "Bleu", "Rouge", "Vert"],
          correct: 0,
        },
        {
          question: "Combien de cÃ´tÃ©s a un hexagone ?",
          answers: ["5", "6", "7", "8"],
          correct: 1,
        },
        {
          question: "Langage pour scripts cÃ´tÃ© serveur ?",
          answers: ["PHP", "HTML", "CSS", "JavaScript"],
          correct: 0,
        },
        {
          question: "Capital de l'Espagne ?",
          answers: ["Madrid", "Barcelone", "SÃ©ville", "Valence"],
          correct: 0,
        },
        {
          question: "Quelle est la formule de l'eau ?",
          answers: ["H2O", "CO2", "O2", "HO2"],
          correct: 0,
        },
        {
          question: "Combien font 9 Ã— 9 ?",
          answers: ["81", "72", "99", "79"],
          correct: 0,
        },
        {
          question: "Qui a dÃ©couvert la gravitÃ© ?",
          answers: ["Newton", "Einstein", "GalilÃ©e", "Descartes"],
          correct: 0,
        },
        {
          question: "Le Mont Everest se trouve dans ?",
          answers: ["NÃ©pal", "Chine", "Inde", "Bhoutan"],
          correct: 0,
        },
        {
          question: "Symbole chimique de l'or ?",
          answers: ["Au", "Ag", "Fe", "Pb"],
          correct: 0,
        },
        {
          question: "Quelle est la langue officielle du BrÃ©sil ?",
          answers: ["Portugais", "Espagnol", "FranÃ§ais", "Anglais"],
          correct: 0,
        },
        {
          question: "Quel pays a la Tour Eiffel ?",
          answers: ["Italie", "France", "Espagne", "Belgique"],
          correct: 1,
        },
        {
          question: "Combien font 15 Ã· 3 ?",
          answers: ["3", "4", "5", "6"],
          correct: 2,
        },
        {
          question: "Qui a inventÃ© l'ampoule Ã©lectrique ?",
          answers: ["Edison", "Tesla", "Faraday", "Volta"],
          correct: 0,
        },
        {
          question: "La planÃ¨te rouge est ?",
          answers: ["Mars", "Jupiter", "Saturne", "VÃ©nus"],
          correct: 0,
        },
        {
          question: "Capitale de l'Italie ?",
          answers: ["Rome", "Milan", "Venise", "Naples"],
          correct: 0,
        },
        {
          question: "Le symbole chimique du fer ?",
          answers: ["Fe", "F", "Ir", "I"],
          correct: 0,
        },
        {
          question: "Combien de lettres dans l'alphabet franÃ§ais ?",
          answers: ["24", "25", "26", "27"],
          correct: 2,
        },
        {
          question: "Quel est le plus grand ocÃ©an ?",
          answers: ["Atlantique", "Indien", "Pacifique", "Arctique"],
          correct: 2,
        },
        {
          question: "Qui a Ã©crit 'Hamlet' ?",
          answers: ["Shakespeare", "MoliÃ¨re", "Victor Hugo", "Balzac"],
          correct: 0,
        },
        {
          question: "Combien font 20 âˆ’ 7 ?",
          answers: ["12", "13", "14", "15"],
          correct: 1,
        },
        {
          question: "Langage utilisÃ© pour les bases de donnÃ©es ?",
          answers: ["SQL", "HTML", "CSS", "JS"],
          correct: 0,
        },
        {
          question: "Capital de l'Australie ?",
          answers: ["Sydney", "Melbourne", "Canberra", "Brisbane"],
          correct: 2,
        },
        {
          question: "Quelle planÃ¨te est connue pour ses anneaux ?",
          answers: ["Saturne", "Mars", "Jupiter", "VÃ©nus"],
          correct: 0,
        },
        {
          question: "Combien font 11 + 22 ?",
          answers: ["33", "32", "31", "34"],
          correct: 0,
        },
        {
          question: "Qui a peint 'La Nuit Ã©toilÃ©e' ?",
          answers: ["Van Gogh", "Picasso", "Da Vinci", "Monet"],
          correct: 0,
        },
        {
          question: "Capitale du Canada ?",
          answers: ["Toronto", "Ottawa", "Vancouver", "MontrÃ©al"],
          correct: 1,
        },
        {
          question: "Symbole chimique de l'argent ?",
          answers: ["Ag", "Au", "Al", "Si"],
          correct: 0,
        },
        {
          question: "Combien de jours dans une annÃ©e bissextile ?",
          answers: ["365", "366", "364", "367"],
          correct: 1,
        },
        {
          question: "Qui a Ã©crit 'Le Petit Prince' ?",
          answers: ["Saint-ExupÃ©ry", "Hugo", "Zola", "Camus"],
          correct: 0,
        },
        {
          question: "La plus grande Ã®le du monde ?",
          answers: ["Groenland", "Madagascar", "Sumatra", "Borneo"],
          correct: 0,
        },
        {
          question: "Capitale de l'Inde ?",
          answers: ["New Delhi", "Mumbai", "Bangalore", "Calcutta"],
          correct: 0,
        },
        {
          question: "Combien de secondes dans une minute ?",
          answers: ["50", "60", "70", "100"],
          correct: 1,
        },
        {
          question: "Quelle est la plus grande planÃ¨te ?",
          answers: ["Jupiter", "Saturne", "Terre", "Neptune"],
          correct: 0,
        },
        {
          question: "Qui a Ã©crit '1984' ?",
          answers: ["Orwell", "Huxley", "Kafka", "Bradbury"],
          correct: 0,
        },
        {
          question: "Combien de planÃ¨tes naines dans le systÃ¨me solaire ?",
          answers: ["1", "5", "10", "Pluton n'existe plus"],
          correct: 2,
        },
        {
          question: "Capitale de la Russie ?",
          answers: ["Saint-PÃ©tersbourg", "Moscou", "Kiev", "Varsovie"],
          correct: 1,
        },
        {
          question: "Quelle est la vitesse de la lumiÃ¨re approximative ?",
          answers: [
            "300 000 km/s",
            "150 000 km/s",
            "1 000 km/s",
            "30 000 km/s",
          ],
          correct: 0,
        },
        {
          question: "Symbole chimique du sodium ?",
          answers: ["Na", "S", "So", "Sd"],
          correct: 0,
        },
        {
          question: "Combien de continents commencent par la lettre A ?",
          answers: ["1", "2", "3", "4"],
          correct: 2,
        },
        {
          question: "Langage de programmation populaire cÃ´tÃ© serveur ?",
          answers: ["PHP", "HTML", "CSS", "Python"],
          correct: 0,
        },
        {
          question: "Capitale de l'Ã‰gypte ?",
          answers: ["Le Caire", "Alexandrie", "Gizeh", "Luxor"],
          correct: 0,
        },
        {
          question: "Combien font 100 Ã· 25 ?",
          answers: ["4", "5", "6", "3"],
          correct: 1,
        },
        {
          question: "Qui a dÃ©couvert la pÃ©nicilline ?",
          answers: ["Fleming", "Pasteur", "Curie", "Einstein"],
          correct: 0,
        },
      ];

      // Fonction pour mÃ©langer un tableau
      function shuffleArray(array) {
        return array.sort(() => Math.random() - 0.5);
      }

      // SÃ©lection alÃ©atoire de 10 questions
      let questions = shuffleArray(allQuestions).slice(0, 10);

      const questionEl = document.getElementById("question");
      const answersEl = document.getElementById("answers");
      const nextBtn = document.getElementById("next-btn");
      const restartBtn = document.getElementById("restart-btn");
      const progressEl = document.getElementById("progress");
      const timerEl = document.getElementById("timer");

      let currentIndex = 0;
      let score = 0;
      let timer;
      const TIME_LIMIT = 30; // secondes
      let timeLeft = TIME_LIMIT;

      function startTimer() {
        clearInterval(timer);
        timeLeft = TIME_LIMIT;
        timerEl.textContent = `${timeLeft}s`;
        timer = setInterval(() => {
          timeLeft--;
          timerEl.textContent = `${timeLeft}s`;
          if (timeLeft <= 0) {
            clearInterval(timer);
            disableAnswers();
            nextBtn.classList.remove("hidden");
          }
        }, 1000);
      }

      function disableAnswers() {
        const buttons = answersEl.querySelectorAll("button");
        buttons.forEach((btn) => (btn.disabled = true));
      }

      function showQuestion() {
        const currentQ = questions[currentIndex];
        questionEl.textContent = currentQ.question;
        answersEl.innerHTML = "";

        currentQ.answers.forEach((ans, index) => {
          const btn = document.createElement("button");
          btn.textContent = ans;
          btn.className =
            "bg-white py-3 rounded-2xl shadow-md hover:scale-105 hover:shadow-lg transition transform text-gray-900 font-medium";
          btn.onclick = () => checkAnswer(index, btn);
          answersEl.appendChild(btn);
        });

        // Mettre Ã  jour la barre de progression
        const progressPercent = (currentIndex / questions.length) * 100;
        progressEl.style.width = `${progressPercent}%`;

        // DÃ©marrer timer
        startTimer();

        nextBtn.classList.add("hidden");
      }

      function checkAnswer(index, btnClicked) {
        clearInterval(timer);
        const correct = questions[currentIndex].correct;
        const buttons = answersEl.querySelectorAll("button");

        buttons.forEach((btn, i) => {
          btn.disabled = true;
          if (i === correct) {
            btn.classList.remove(
              "bg-white",
              "hover:scale-105",
              "hover:shadow-lg"
            );
            btn.classList.add(
              "bg-green-500",
              "text-white",
              "shadow-xl",
              "scale-105"
            );
          }
          if (i === index && i !== correct) {
            btn.classList.remove(
              "bg-white",
              "hover:scale-105",
              "hover:shadow-lg"
            );
            btn.classList.add(
              "bg-red-500",
              "text-white",
              "shadow-xl",
              "scale-105"
            );
          }
        });

        if (index === correct) score++;
        nextBtn.classList.remove("hidden");
      }

      nextBtn.onclick = () => {
        currentIndex++;
        if (currentIndex < questions.length) {
          showQuestion();
        } else {
          showResult();
        }
      };

      restartBtn.onclick = () => {
        currentIndex = 0;
        score = 0;
        restartBtn.classList.add("hidden");
        showQuestion();
      };

      function getEncouragement(score, total) {
        const percentage = (score / total) * 100;

        if (percentage === 100) {
          return "ðŸŽ‰ Parfait ! Vous Ãªtes un vrai gÃ©nie du quiz !";
        } else if (percentage >= 80) {
          return "ðŸ‘ Excellent travail ! Vous maÃ®trisez trÃ¨s bien le sujet.";
        } else if (percentage >= 50) {
          return "ðŸ™‚ Pas mal ! Continuez Ã  vous entraÃ®ner et vous ferez encore mieux.";
        } else {
          return "ðŸ’ª Ne vous dÃ©couragez pas ! Chaque essai vous rapproche du succÃ¨s.";
        }
      }

      function showResult() {
        const message = getEncouragement(score, questions.length);

        questionEl.textContent = `Quiz terminÃ© ! ðŸŽ‰`;
        answersEl.innerHTML = `
    <div class="text-center text-lg font-bold text-gray-900 bg-gradient-to-r from-green-100 via-green-200 to-green-100 p-4 rounded-2xl shadow-lg">
      Ton score : ${score} / ${questions.length}
    </div>
    <div class="mt-4 text-center text-gray-800 font-medium">${message}</div>
  `;

        nextBtn.classList.add("hidden");
        restartBtn.classList.remove("hidden");
        progressEl.style.width = `100%`;
      }

      showQuestion();
    </script>
  </body>
</html>
